一、kubernetes 概述

1. k8s概述
    kubernetes，简称 K8s，是用 8 代替 8 个字符“ubernete”而成的缩写。是一个开源 的，用于管理云平台中多个主机上的容器化的应用，
Kubernetes 的目标是让部署容器化的 应用简单并且高效（powerful）,Kubernetes 提供了应用部署，规划，更新，维护的一种 机制。
    Kubernetes 是一个轻便的和可扩展的开源平台，用于管理容器化应用和服务。通过 Kubernetes 能够进行应用的自动化部署和扩缩容。
在 Kubernetes 中，会将组成应用的容 器组合成一个逻辑单元以更易管理和发现。Kubernetes 积累了作为 Google 生产环境运行 工作负载 15 年的经验，
并吸收了来自于社区的最佳想法和实践。

2. k8s的功能
1）自动装箱：基于容器对应用运行环境的资源配置要求自动部署应用容器
2）自我修复(自愈能力)
    当容器失败时，会对容器进行重启
    当所部署的 Node 节点有问题时，会对容器进行重新部署和重新调度
    当容器未通过监控检查时，会关闭此容器直到容器正常运行时，才会对外提供服务
3）水平扩展：通过简单的命令、用户 UI 界面或基于 CPU 等资源使用情况，对应用容器进行规模扩大 或规模剪裁
4）滚动更新：可以根据应用的变化，对应用容器运行的应用，进行一次性或批量式更新
5）版本回退：可以根据应用部署情况，对应用容器运行的应用，进行历史版本即时回退
6）密钥和配置管理：在不需要重新构建镜像的情况下，可以部署和更新密钥和应用配置，类似热部署。
7）存储编排：自动实现存储系统挂载及应用，特别对有状态应用实现数据持久化非常重要 存储系统可以来自于本地目录、网络存储(NFS、Gluster、Ceph 等)、公共云存储服务
8）批处理：提供一次性任务，定时任务；满足批量数据处理和分析的场景

3. 应用部署架构分类
(1) 无中心节点架构：GlusterFS
(2) 有中心节点架构：hdfs，k8s

4. k8s集群架构(图01-01)

5. k8s集群架构节点角色功能
1）Master Node
    k8s 集群控制节点，对集群进行调度管理，接受集群外用户去集群操作请求；
    Master Node 由 API Server、Scheduler、ClusterState Store（ETCD 数据库）和 Controller MangerServer 所组成
2）Worker Node
    集群工作节点，运行用户业务应用容器；
    Worker Node 包含 kubelet、kube proxy 和 ContainerRuntime；














